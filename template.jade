// - vars = package.json

element(name=locals.name, \attributes="theme")
  script.
    Polymer.register(this, {
      inserted: function() {
        if (!this.theme) {
          this.findTheme();
        }
      },
      findTheme: findTheme,
      themeChanged: function(old) {
        this.classList.switch(old, this.theme);
      }
    });
    function findTheme() {
      var p = this, theme;
      while (p && !theme) {
        theme = p.getAttribute && p.getAttribute('theme');
        p = p.parentNode || p.host;
      }
      this.theme = theme;
    };
    PolymerUI = { 
      findTheme: findTheme
    };
